{"ast":null,"code":"var _jsxFileName = \"/home/aicoe/Desktop/smart-hr-v4/frontend/my-app/src/components/UpdateSmartGoalForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport loadingGif from \"../assets/__Iphone-spinner-1.gif\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UpdateSmartGoalForm = () => {\n  _s();\n  const {\n    goalId\n  } = useParams();\n  const navigate = useNavigate();\n  const apiUrl = process.env.REACT_APP_API_URL;\n  const token = sessionStorage.getItem(\"access_token\");\n  const [formData, setFormData] = useState({\n    goal: \"\",\n    measureOfSuccess: \"\",\n    kpiMetrics: \"\",\n    outcomeDefined: \"\",\n    quantifiableObjective: \"\",\n    skillsAvailable: \"\",\n    obstaclesConsidered: \"\",\n    thrustArea: \"\",\n    subCategory: \"\",\n    startDate: \"\",\n    endDate: \"\"\n  });\n  const thrustAreas = {\n    \"TA-1 Core Values\": [\"1.1 Conduct business in line with L&T’s philosophy of “Mission Zero Harm” and “Carbon and Water Neutrality”\"],\n    \"TA-2 Customer Focus\": [\"2.1 Nurture customer relationship through engagement at multiple levels\"],\n    \"TA-3 Business Growth\": [\"3.1 Improve on budgeted targets for Order Inflow, Earnings, Cash flow, Working Capital and Revenue\", \"3.2 Achieve significant YoY improvement in key performance metrics - OTD, FTR, PEI, PAT/Manhour\"],\n    \"TA-4 Strategy and Org Excellence\": [\"4.1 Implement Sankalp roadmaps and arrive at strategic plans for Lakshya 31 for business transformation and growth\", \"4.2 Productivity and quality improvement through Organisational excellence initiatives\", \"4.3 Proliferate use of AI and advanced digital technologies in our products and day to day processes\", \"4.4 Value chain control through IP creation, indigenization and building robust supply chain\"],\n    \"TA-5 Work Culture and Employee Engagement\": [\"5.1 Enable culture of openness, inclusivity and psychologically safe work environment\", \"5.2 Enhance employee engagement to drive high performance and productivity\", \"5.3 Focus on upskilling / reskilling to stay ahead in the emerging business environment\"]\n  };\n  const [loading, setLoading] = useState(true);\n  const [loadingforGif, setLoadingforGif] = useState(false);\n  const [htmlResponse, setHtmlResponse] = useState(\"\");\n  const bottomRef = useRef(null);\n  useEffect(() => {\n    if (bottomRef.current) {\n      bottomRef.current.scrollIntoView({\n        behavior: \"smooth\"\n      });\n    }\n  }, [htmlResponse]);\n  const [selectedThrust, setSelectedThrust] = useState(\"\");\n  const [selectedSubCategory, setSelectedSubCategory] = useState(\"\");\n  const [showFinalGoalCheckbox, setShowFinalGoalCheckbox] = useState(false);\n  const [isFinalGoal, setIsFinalGoal] = useState(false);\n  const handleThrustChange = event => {\n    const value = event.target.value;\n    setSelectedThrust(value);\n    setSelectedSubCategory(\"\");\n    setFormData(prevData => ({\n      ...prevData,\n      thrustArea: value,\n      subCategory: \"\"\n    }));\n  };\n  const handleSubCategoryChange = event => {\n    const value = event.target.value;\n    setSelectedSubCategory(value);\n    setFormData(prevData => ({\n      ...prevData,\n      subCategory: value\n    }));\n  };\n  useEffect(() => {\n    const fetchGoalData = async () => {\n      try {\n        const response = await fetch(`${apiUrl}/api/update-goals/${goalId}/`, {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        if (!response.ok) throw new Error(\"Failed to fetch goal\");\n        const data = await response.json();\n        setFormData({\n          goal: data.goal,\n          measureOfSuccess: data.measure_of_success,\n          kpiMetrics: data.kpi_metrics,\n          outcomeDefined: data.outcome_defined,\n          quantifiableObjective: data.quantifiable_objective,\n          skillsAvailable: data.skills_available,\n          obstaclesConsidered: data.obstacles_considered,\n          thrustArea: data.thrust_area,\n          subCategory: data.sub_category,\n          startDate: data.start_date,\n          endDate: data.end_date\n        });\n        setSelectedThrust(data.thrust_area || \"\");\n        setSelectedSubCategory(data.sub_category || \"\");\n        setLoading(false);\n      } catch (error) {\n        console.error(\"Error fetching goal data:\", error);\n      }\n    };\n    fetchGoalData();\n  }, [apiUrl, goalId, token]);\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setHtmlResponse(\"\");\n    setShowFinalGoalCheckbox(false);\n    setLoadingforGif(true);\n\n    // Ensure quantifiableObjective does not exceed 100%\n    if (formData.quantifiableObjective > 100) {\n      setHtmlResponse(\"<p>Quantifiable Objective cannot exceed 100%.</p>\");\n      setLoadingforGif(false);\n      return;\n    }\n    const formattedData = {\n      goal: formData.goal,\n      measure_of_success: formData.measureOfSuccess,\n      kpi_metrics: formData.kpiMetrics,\n      outcome_defined: formData.outcomeDefined,\n      quantifiable_objective: formData.quantifiableObjective,\n      skills_available: formData.skillsAvailable,\n      obstacles_considered: formData.obstaclesConsidered,\n      thrust_area: formData.thrustArea,\n      sub_category: formData.subCategory,\n      start_date: formData.startDate,\n      end_date: formData.endDate,\n      goalId: goalId || \"\"\n    };\n    try {\n      const response = await fetch(`${apiUrl}/api/submit-goal/`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(formattedData)\n      });\n      if (!response.ok) {\n        const errorText = await response.text();\n        setHtmlResponse(`<p>Error: ${errorText}</p>`);\n        setLoading(false);\n        return;\n      }\n      const reader = response.body.getReader();\n      const decoder = new TextDecoder();\n      let htmlContent = \"\";\n      setLoadingforGif(false);\n      while (true) {\n        const {\n          done,\n          value\n        } = await reader.read();\n        if (done) break;\n        const chunk = decoder.decode(value, {\n          stream: true\n        });\n        if (chunk.includes(\"[DONE]\")) break;\n        htmlContent += chunk;\n        setHtmlResponse(htmlContent);\n      }\n      setShowFinalGoalCheckbox(true);\n    } catch (error) {\n      console.error(\"Error submitting form:\", error.message);\n      setHtmlResponse(\"<p>An error occurred while submitting the form.</p>\");\n    } finally {\n      setLoadingforGif(false);\n    }\n  };\n  const handleFinalGoalChange = async e => {\n    const isChecked = e.target.checked;\n    setIsFinalGoal(isChecked);\n    try {\n      const response = await fetch(`${apiUrl}/api/final-goal/`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          goal_id: goalId,\n          final_goal_confirmed: isChecked\n        })\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.error || \"Something went wrong\");\n      }\n      alert(\"Final goal confirmed successfully!\");\n    } catch (error) {\n      console.error(\"Error:\", error);\n      alert(\"Failed to confirm the final goal.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"smart-form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Edit Goal Assist\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: loadingGif,\n        alt: \"Loading...\",\n        style: {\n          width: \"50px\",\n          height: \"50px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"smart-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Goal:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"goal\",\n        value: formData.goal,\n        onChange: handleChange,\n        rows: \"3\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Measure of Success:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"measureOfSuccess\",\n        value: formData.measureOfSuccess,\n        onChange: handleChange,\n        rows: \"3\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"What metrics or KPI\\u2019s will be used to evaluate the achievement?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"kpiMetrics\",\n        value: formData.kpiMetrics,\n        onChange: handleChange,\n        rows: \"3\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Can you clearly define the outcome or result?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"outcomeDefined\",\n        value: formData.outcomeDefined,\n        onChange: handleChange,\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Yes\",\n          children: \"Yes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"No\",\n          children: \"No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Can the objective be quantified (Nos., %ages etc.)?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"quantifiableObjective\",\n        value: formData.quantifiableObjective,\n        onChange: handleChange,\n        required: true,\n        min: 0,\n        max: 100,\n        step: 0.10\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Are the necessary skills, knowledge, and expertise available to achieve this objective?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"skillsAvailable\",\n        value: formData.skillsAvailable,\n        onChange: handleChange,\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Yes\",\n          children: \"Yes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"No\",\n          children: \"No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Have you considered any potential obstacles/challenges?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"obstaclesConsidered\",\n        value: formData.obstaclesConsidered,\n        onChange: handleChange,\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Yes\",\n          children: \"Yes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"No\",\n          children: \"No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Choose the Thrust Area this objective aligns with:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"thrustArea\",\n          value: selectedThrust,\n          onChange: handleThrustChange,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this), Object.keys(thrustAreas).map((thrust, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: thrust,\n            children: thrust\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }, this), selectedThrust && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Select a sub-category:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"subCategory\",\n            value: selectedSubCategory,\n            onChange: handleSubCategoryChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 19\n            }, this), thrustAreas[selectedThrust].map((sub, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: sub,\n              children: sub\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Start Date of Activity:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        name: \"startDate\",\n        value: formData.startDate,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"End Date of Activity:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        name: \"endDate\",\n        value: formData.endDate,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"response\",\n        children: [loadingforGif ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: loadingGif,\n            alt: \"Loading...\",\n            style: {\n              width: \"50px\",\n              height: \"50px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"html-response\",\n          dangerouslySetInnerHTML: {\n            __html: htmlResponse\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: bottomRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 13\n        }, this), showFinalGoalCheckbox && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"final-goal-checkbox\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"finalGoal\",\n            checked: isFinalGoal,\n            onChange: handleFinalGoalChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"finalGoal\",\n            children: \"Have you reviewed all the details above and confirmed this as your final goal?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"submit-btn\",\n        children: \"Analyse Goal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 236,\n    columnNumber: 5\n  }, this);\n};\n_s(UpdateSmartGoalForm, \"5Q+U9eLemHynhzQVa72VG1cqgtE=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = UpdateSmartGoalForm;\nexport default UpdateSmartGoalForm;\nvar _c;\n$RefreshReg$(_c, \"UpdateSmartGoalForm\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","loadingGif","jsxDEV","_jsxDEV","Fragment","_Fragment","UpdateSmartGoalForm","_s","goalId","navigate","apiUrl","process","env","REACT_APP_API_URL","token","sessionStorage","getItem","formData","setFormData","goal","measureOfSuccess","kpiMetrics","outcomeDefined","quantifiableObjective","skillsAvailable","obstaclesConsidered","thrustArea","subCategory","startDate","endDate","thrustAreas","loading","setLoading","loadingforGif","setLoadingforGif","htmlResponse","setHtmlResponse","bottomRef","current","scrollIntoView","behavior","selectedThrust","setSelectedThrust","selectedSubCategory","setSelectedSubCategory","showFinalGoalCheckbox","setShowFinalGoalCheckbox","isFinalGoal","setIsFinalGoal","handleThrustChange","event","value","target","prevData","handleSubCategoryChange","fetchGoalData","response","fetch","method","headers","Authorization","ok","Error","data","json","measure_of_success","kpi_metrics","outcome_defined","quantifiable_objective","skills_available","obstacles_considered","thrust_area","sub_category","start_date","end_date","error","console","handleChange","e","name","handleSubmit","preventDefault","formattedData","body","JSON","stringify","errorText","text","reader","getReader","decoder","TextDecoder","htmlContent","done","read","chunk","decode","stream","includes","message","handleFinalGoalChange","isChecked","checked","goal_id","final_goal_confirmed","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","justifyContent","alignItems","src","alt","width","height","onSubmit","onChange","rows","required","type","min","max","step","Object","keys","map","thrust","index","sub","dangerouslySetInnerHTML","__html","ref","id","htmlFor","_c","$RefreshReg$"],"sources":["/home/aicoe/Desktop/smart-hr-v4/frontend/my-app/src/components/UpdateSmartGoalForm.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport loadingGif from \"../assets/__Iphone-spinner-1.gif\";\n\n\nconst UpdateSmartGoalForm = () => {\n  const { goalId } = useParams();\n  const navigate = useNavigate();\n  const apiUrl = process.env.REACT_APP_API_URL;\n  const token = sessionStorage.getItem(\"access_token\");\n\n  const [formData, setFormData] = useState({\n    goal: \"\",\n    measureOfSuccess: \"\",\n    kpiMetrics: \"\",\n    outcomeDefined: \"\",\n    quantifiableObjective: \"\",\n    skillsAvailable: \"\",\n    obstaclesConsidered: \"\",\n    thrustArea: \"\",\n    subCategory: \"\",\n    startDate: \"\",\n    endDate: \"\",\n  });\n\n\n  const thrustAreas = {\n    \"TA-1 Core Values\": [\n      \"1.1 Conduct business in line with L&T’s philosophy of “Mission Zero Harm” and “Carbon and Water Neutrality”\"\n    ],\n    \"TA-2 Customer Focus\": [\n      \"2.1 Nurture customer relationship through engagement at multiple levels\"\n    ],\n    \"TA-3 Business Growth\": [\n      \"3.1 Improve on budgeted targets for Order Inflow, Earnings, Cash flow, Working Capital and Revenue\",\n      \"3.2 Achieve significant YoY improvement in key performance metrics - OTD, FTR, PEI, PAT/Manhour\"\n    ],\n    \"TA-4 Strategy and Org Excellence\": [\n      \"4.1 Implement Sankalp roadmaps and arrive at strategic plans for Lakshya 31 for business transformation and growth\",\n      \"4.2 Productivity and quality improvement through Organisational excellence initiatives\",\n      \"4.3 Proliferate use of AI and advanced digital technologies in our products and day to day processes\",\n      \"4.4 Value chain control through IP creation, indigenization and building robust supply chain\"\n    ],\n    \"TA-5 Work Culture and Employee Engagement\": [\n      \"5.1 Enable culture of openness, inclusivity and psychologically safe work environment\",\n      \"5.2 Enhance employee engagement to drive high performance and productivity\",\n      \"5.3 Focus on upskilling / reskilling to stay ahead in the emerging business environment\"\n    ]\n  };\n\n  const [loading, setLoading] = useState(true);\n  const [loadingforGif, setLoadingforGif] = useState(false);\n  const [htmlResponse, setHtmlResponse] = useState(\"\");\n  const bottomRef = useRef(null);\n  useEffect(() => {\n    if (bottomRef.current) {\n      bottomRef.current.scrollIntoView({ behavior: \"smooth\" });\n    }\n  }, [htmlResponse]);\n\n\n  const [selectedThrust, setSelectedThrust] = useState(\"\");\n  const [selectedSubCategory, setSelectedSubCategory] = useState(\"\");\n  const [showFinalGoalCheckbox, setShowFinalGoalCheckbox] = useState(false);\n  const [isFinalGoal, setIsFinalGoal] = useState(false);\n\n\n  const handleThrustChange = (event) => {\n    const value = event.target.value;\n    setSelectedThrust(value);\n    setSelectedSubCategory(\"\");\n\n    setFormData((prevData) => ({\n      ...prevData,\n      thrustArea: value,\n      subCategory: \"\",\n    }));\n  };\n\n  const handleSubCategoryChange = (event) => {\n    const value = event.target.value;\n    setSelectedSubCategory(value);\n\n    setFormData((prevData) => ({\n      ...prevData,\n      subCategory: value,\n    }));\n  };\n\n  useEffect(() => {\n    const fetchGoalData = async () => {\n      try {\n        const response = await fetch(`${apiUrl}/api/update-goals/${goalId}/`, {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\",\n          },\n        });\n\n        if (!response.ok) throw new Error(\"Failed to fetch goal\");\n\n        const data = await response.json();\n        setFormData({\n          goal: data.goal,\n          measureOfSuccess: data.measure_of_success,\n          kpiMetrics: data.kpi_metrics,\n          outcomeDefined: data.outcome_defined,\n          quantifiableObjective: data.quantifiable_objective,\n          skillsAvailable: data.skills_available,\n          obstaclesConsidered: data.obstacles_considered,\n          thrustArea: data.thrust_area,\n          subCategory: data.sub_category,\n          startDate: data.start_date,\n          endDate: data.end_date,\n        });\n        setSelectedThrust(data.thrust_area || \"\");\n        setSelectedSubCategory(data.sub_category || \"\");\n        setLoading(false);\n      } catch (error) {\n        console.error(\"Error fetching goal data:\", error);\n      }\n    };\n\n    fetchGoalData();\n  }, [apiUrl, goalId, token]);\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setHtmlResponse(\"\");\n    setShowFinalGoalCheckbox(false);\n    setLoadingforGif(true);\n\n    // Ensure quantifiableObjective does not exceed 100%\n    if (formData.quantifiableObjective > 100) {\n      setHtmlResponse(\"<p>Quantifiable Objective cannot exceed 100%.</p>\");\n      setLoadingforGif(false);\n      return;\n    }\n\n    const formattedData = {\n      goal: formData.goal,\n      measure_of_success: formData.measureOfSuccess,\n      kpi_metrics: formData.kpiMetrics,\n      outcome_defined: formData.outcomeDefined,\n      quantifiable_objective: formData.quantifiableObjective,\n      skills_available: formData.skillsAvailable,\n      obstacles_considered: formData.obstaclesConsidered,\n      thrust_area: formData.thrustArea,\n      sub_category: formData.subCategory,\n      start_date: formData.startDate,\n      end_date: formData.endDate,\n      goalId: goalId || \"\",\n    };\n\n    try {\n      const response = await fetch(`${apiUrl}/api/submit-goal/`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(formattedData),\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        setHtmlResponse(`<p>Error: ${errorText}</p>`);\n        setLoading(false);\n        return;\n      }\n\n      const reader = response.body.getReader();\n      const decoder = new TextDecoder();\n      let htmlContent = \"\";\n      setLoadingforGif(false);\n\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n\n        const chunk = decoder.decode(value, { stream: true });\n        if (chunk.includes(\"[DONE]\")) break;\n\n        htmlContent += chunk;\n        setHtmlResponse(htmlContent);\n      }\n    setShowFinalGoalCheckbox(true);\n\n    } catch (error) {\n      console.error(\"Error submitting form:\", error.message);\n      setHtmlResponse(\"<p>An error occurred while submitting the form.</p>\");\n    } finally {\n      setLoadingforGif(false);\n    }\n  };\n\n\n  \nconst handleFinalGoalChange = async (e) => {\n  const isChecked = e.target.checked;\n  setIsFinalGoal(isChecked);\n\n\n  try {\n    const response = await fetch(`${apiUrl}/api/final-goal/`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ \n        goal_id: goalId, \n        final_goal_confirmed: isChecked \n      }),\n    });\n\n    const data = await response.json();\n    if (!response.ok) {\n      throw new Error(data.error || \"Something went wrong\");\n    }\n\n    alert(\"Final goal confirmed successfully!\");\n  } catch (error) {\n    console.error(\"Error:\", error);\n    alert(\"Failed to confirm the final goal.\");\n  }\n};\n\n\n  return (\n    <div className=\"smart-form-container\">\n      <h2>Edit Goal Assist</h2>\n      {loading ? (\n        <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n          <img src={loadingGif} alt=\"Loading...\" style={{ width: \"50px\", height: \"50px\" }} />\n        </div>\n      ) : (\n        <form onSubmit={handleSubmit} className=\"smart-form\">\n          <label>Goal:</label>\n          <textarea name=\"goal\" value={formData.goal} onChange={handleChange} rows=\"3\" required />\n\n          <label>Measure of Success:</label>\n          <textarea name=\"measureOfSuccess\" value={formData.measureOfSuccess} onChange={handleChange} rows=\"3\" required />\n\n          <label>What metrics or KPI’s will be used to evaluate the achievement?</label>\n          <textarea name=\"kpiMetrics\" value={formData.kpiMetrics} onChange={handleChange} rows=\"3\" required />\n\n          <label>Can you clearly define the outcome or result?</label>\n          <select name=\"outcomeDefined\" value={formData.outcomeDefined} onChange={handleChange} required>\n            <option value=\"\">Select</option>\n            <option value=\"Yes\">Yes</option>\n            <option value=\"No\">No</option>\n          </select>\n\n          <label>Can the objective be quantified (Nos., %ages etc.)?</label>\n          <input type=\"number\" name=\"quantifiableObjective\" value={formData.quantifiableObjective} onChange={handleChange} required min={0} max={100} step={0.10} />\n\n          <label>Are the necessary skills, knowledge, and expertise available to achieve this objective?</label>\n          <select name=\"skillsAvailable\" value={formData.skillsAvailable} onChange={handleChange} required>\n            <option value=\"\">Select</option>\n            <option value=\"Yes\">Yes</option>\n            <option value=\"No\">No</option>\n          </select>\n\n          <label>Have you considered any potential obstacles/challenges?</label>\n          <select name=\"obstaclesConsidered\" value={formData.obstaclesConsidered} onChange={handleChange} required>\n            <option value=\"\">Select</option>\n            <option value=\"Yes\">Yes</option>\n            <option value=\"No\">No</option>\n          </select>\n\n          {/* <label>Choose the Thrust Area this objective aligns with:</label>\n          <select name=\"thrustArea\" value={formData.thrustArea} onChange={handleChange} required>\n            <option value=\"\">Select</option>\n            <option value=\"Innovation\">Innovation</option>\n            <option value=\"Customer Satisfaction\">Customer Satisfaction</option>\n            <option value=\"Operational Efficiency\">Operational Efficiency</option>\n          </select> */}\n\n          <div>\n            {/* Main Thrust Area Dropdown */}\n            <label>Choose the Thrust Area this objective aligns with:</label>\n            <select name=\"thrustArea\" value={selectedThrust} onChange={handleThrustChange} required>\n              <option value=\"\">Select</option>\n              {Object.keys(thrustAreas).map((thrust, index) => (\n                <option key={index} value={thrust}>\n                  {thrust}\n                </option>\n              ))}\n            </select>\n\n            {/* Dynamic Subcategory Dropdown */}\n            {selectedThrust && (\n              <>\n                <label>Select a sub-category:</label>\n                <select\n                  name=\"subCategory\"\n                  value={selectedSubCategory}\n                  onChange={handleSubCategoryChange}\n                  required\n                >\n                  <option value=\"\">Select</option>\n                  {thrustAreas[selectedThrust].map((sub, index) => (\n                    <option key={index} value={sub}>\n                      {sub}\n                    </option>\n                  ))}\n                </select>\n              </>\n            )}\n          </div>\n\n          <label>Start Date of Activity:</label>\n          <input type=\"date\" name=\"startDate\" value={formData.startDate} onChange={handleChange} required />\n\n          <label>End Date of Activity:</label>\n          <input type=\"date\" name=\"endDate\" value={formData.endDate} onChange={handleChange} required />\n\n\n          <div className=\"response\">\n            {loadingforGif ? (\n              <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n                <img src={loadingGif} alt=\"Loading...\" style={{ width: \"50px\", height: \"50px\" }} />\n              </div>\n\n            ) : (\n              <div\n                className=\"html-response\"\n                dangerouslySetInnerHTML={{ __html: htmlResponse }}\n              />\n            )}\n            <div ref={bottomRef} />\n\n\n            {showFinalGoalCheckbox && (\n              <div className=\"final-goal-checkbox\">\n                <input\n                  type=\"checkbox\"\n                  id=\"finalGoal\"\n                  checked={isFinalGoal}\n                  onChange={handleFinalGoalChange}\n                />\n                <label htmlFor=\"finalGoal\">Have you reviewed all the details above and confirmed this as your final goal?</label>\n              </div>\n            )}\n          </div>\n\n          <button type=\"submit\" className=\"submit-btn\">Analyse Goal</button>\n        </form>\n      )}\n    </div>\n  );\n};\n\nexport default UpdateSmartGoalForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}