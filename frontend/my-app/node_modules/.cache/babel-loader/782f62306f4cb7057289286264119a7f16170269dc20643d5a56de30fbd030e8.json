{"ast":null,"code":"var _jsxFileName = \"/home/aicoe/Desktop/SMARTHR/SmartHR-main/frontend/my-app/src/components/SmartGoalForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport ReactMarkdown from \"react-markdown\"; // install with npm install react-markdown\nimport \"./SmartGoalForm.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SmartGoalForm = () => {\n  _s();\n  const apiUrl = process.env.REACT_APP_API_URL;\n  const token = sessionStorage.getItem(\"access_token\");\n  const [formData, setFormData] = useState({\n    goal: \"\",\n    measureOfSuccess: \"\",\n    kpiMetrics: \"\",\n    outcomeDefined: \"\",\n    quantifiableObjective: \"\",\n    skillsAvailable: \"\",\n    obstaclesConsidered: \"\",\n    thrustArea: \"\",\n    startDate: \"\",\n    endDate: \"\"\n  });\n  const [message, setMessage] = useState(\"\");\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setMessage(\"\");\n    if (formData.quantifiableObjective > 100) {\n      setMessage(\"Quantifiable Objective cannot exceed 100%.\");\n      return;\n    }\n    const formattedData = {\n      goal: formData.goal,\n      measure_of_success: formData.measureOfSuccess,\n      kpi_metrics: formData.kpiMetrics,\n      outcome_defined: formData.outcomeDefined,\n      quantifiable_objective: formData.quantifiableObjective,\n      skills_available: formData.skillsAvailable,\n      obstacles_considered: formData.obstaclesConsidered,\n      thrust_area: formData.thrustArea,\n      start_date: formData.startDate,\n      end_date: formData.endDate\n    };\n    try {\n      const response = await fetch(`${apiUrl}/api/submit-goal/`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(formattedData)\n      });\n      if (!response.ok) {\n        const errorText = await response.text();\n        setMessage(`Error: ${errorText}`);\n        return;\n      }\n      const reader = response.body.getReader();\n      const decoder = new TextDecoder();\n      let fullText = \"\";\n      while (true) {\n        const {\n          done,\n          value\n        } = await reader.read();\n        if (done) break;\n        const chunk = decoder.decode(value, {\n          stream: true\n        });\n        fullText += chunk;\n        setMessage(fullText);\n      }\n      setFormData({\n        goal: \"\",\n        measureOfSuccess: \"\",\n        outcomeDefined: \"\",\n        kpiMetrics: \"\",\n        quantifiableObjective: \"\",\n        skillsAvailable: \"\",\n        obstaclesConsidered: \"\",\n        thrustArea: \"\",\n        startDate: \"\",\n        endDate: \"\"\n      });\n    } catch (error) {\n      console.error(\"Error submitting form:\", error.message);\n      setMessage(\"An error occurred while submitting the form.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"smart-form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"SMART Goal Submission\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"smart-form\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"submit-btn\",\n        children: \"Submit Goal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"response-container\",\n      children: message && /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n_s(SmartGoalForm, \"JGBED159lCh9L0jvAfH1RQ71Gyk=\");\n_c = SmartGoalForm;\nexport default SmartGoalForm;\nvar _c;\n$RefreshReg$(_c, \"SmartGoalForm\");","map":{"version":3,"names":["React","useState","ReactMarkdown","jsxDEV","_jsxDEV","SmartGoalForm","_s","apiUrl","process","env","REACT_APP_API_URL","token","sessionStorage","getItem","formData","setFormData","goal","measureOfSuccess","kpiMetrics","outcomeDefined","quantifiableObjective","skillsAvailable","obstaclesConsidered","thrustArea","startDate","endDate","message","setMessage","handleChange","e","target","name","value","handleSubmit","event","preventDefault","formattedData","measure_of_success","kpi_metrics","outcome_defined","quantifiable_objective","skills_available","obstacles_considered","thrust_area","start_date","end_date","response","fetch","method","headers","Authorization","body","JSON","stringify","ok","errorText","text","reader","getReader","decoder","TextDecoder","fullText","done","read","chunk","decode","stream","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","_c","$RefreshReg$"],"sources":["/home/aicoe/Desktop/SMARTHR/SmartHR-main/frontend/my-app/src/components/SmartGoalForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport ReactMarkdown from \"react-markdown\"; // install with npm install react-markdown\nimport \"./SmartGoalForm.css\";\n\nconst SmartGoalForm = () => {\n  const apiUrl = process.env.REACT_APP_API_URL;\n  const token = sessionStorage.getItem(\"access_token\");\n  const [formData, setFormData] = useState({\n    goal: \"\",\n    measureOfSuccess: \"\",\n    kpiMetrics: \"\",\n    outcomeDefined: \"\",\n    quantifiableObjective: \"\",\n    skillsAvailable: \"\",\n    obstaclesConsidered: \"\",\n    thrustArea: \"\",\n    startDate: \"\",\n    endDate: \"\"\n  });\n  const [message, setMessage] = useState(\"\");\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setMessage(\"\");\n    if (formData.quantifiableObjective > 100) {\n      setMessage(\"Quantifiable Objective cannot exceed 100%.\");\n      return;\n    }\n\n    const formattedData = {\n      goal: formData.goal,\n      measure_of_success: formData.measureOfSuccess,\n      kpi_metrics: formData.kpiMetrics,\n      outcome_defined: formData.outcomeDefined,\n      quantifiable_objective: formData.quantifiableObjective,\n      skills_available: formData.skillsAvailable,\n      obstacles_considered: formData.obstaclesConsidered,\n      thrust_area: formData.thrustArea,\n      start_date: formData.startDate,\n      end_date: formData.endDate,\n    };\n\n    try {\n      const response = await fetch(`${apiUrl}/api/submit-goal/`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(formattedData),\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        setMessage(`Error: ${errorText}`);\n        return;\n      }\n\n      const reader = response.body.getReader();\n      const decoder = new TextDecoder();\n      let fullText = \"\";\n\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n        const chunk = decoder.decode(value, { stream: true });\n        fullText += chunk;\n        setMessage(fullText);\n      }\n\n      setFormData({\n        goal: \"\",\n        measureOfSuccess: \"\",\n        outcomeDefined: \"\",\n        kpiMetrics: \"\",\n        quantifiableObjective: \"\",\n        skillsAvailable: \"\",\n        obstaclesConsidered: \"\",\n        thrustArea: \"\",\n        startDate: \"\",\n        endDate: \"\",\n      });\n    } catch (error) {\n      console.error(\"Error submitting form:\", error.message);\n      setMessage(\"An error occurred while submitting the form.\");\n    }\n  };\n\n  return (\n    <div className=\"smart-form-container\">\n      <h2>SMART Goal Submission</h2>\n      <form onSubmit={handleSubmit} className=\"smart-form\">\n        {/* Form fields... */}\n        <button type=\"submit\" className=\"submit-btn\">Submit Goal</button>\n      </form>\n      <div className=\"response-container\">\n        {message && <ReactMarkdown>{message}</ReactMarkdown>}\n      </div>\n    </div>\n  );\n};\n\nexport default SmartGoalForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}